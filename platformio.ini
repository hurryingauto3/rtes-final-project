; PlatformIO Project Configuration File
;
; https://docs.platformio.org/page/projectconf.html

[platformio]
; Set a path to a cache folder
; Sharing the same cache between projects won't work!
build_cache_dir = cache
default_envs = disco_l475vg_iot01a

; ============================================
; STM32L475 with BLE (B-L475E-IOT01A) - RECOMMENDED
; ============================================
[env:disco_l475vg_iot01a]
platform = ststm32
board = disco_l475vg_iot01a
framework = mbed
monitor_speed = 115200
upload_protocol = stlink
debug_tool = stlink
debug_speed = 480 
build_flags = 
	-DARM_MATH_CM4
	-Ilib/CMSIS-DSP-main/Include
	-Ilib/CMSIS-DSP-main/Source
	-std=gnu++17
	-DUSE_BLE_OUTPUT=1
	-DMBED_CONF_BLE_ENABLED=1
	-DMBED_CONF_CORDIO_ENABLED=1
	-DDEVICE_BLE=1
build_unflags = 
	-std=gnu++14
lib_ldf_mode = deep+
build_type = debug

; ============================================
; STM32L475 Serial Only (No BLE)
; ============================================
[env:disco_l475vg_iot01a_serial]
platform = ststm32
board = disco_l475vg_iot01a
framework = mbed
monitor_speed = 115200
upload_protocol = stlink
debug_tool = stlink
debug_speed = 480 
build_flags = 
	-DARM_MATH_CM4
	-Ilib/CMSIS-DSP-main/Include
	-Ilib/CMSIS-DSP-main/Source
	-std=gnu++17
	-DUSE_BLE_OUTPUT=0
build_unflags = 
	-std=gnu++14
build_type = debug

; ============================================
; STM32F429 Discovery (No BLE - Serial Only)
; Use this if you have 32F429IDISCOVERY board
; ============================================
[env:stm32f429_discovery]
platform = ststm32
board = disco_f429zi
framework = mbed
monitor_speed = 115200
upload_protocol = stlink
debug_tool = stlink
debug_speed = 480 
build_flags = 
	-DARM_MATH_CM4
	-Ilib/CMSIS-DSP-main/Include
	-Ilib/CMSIS-DSP-main/Source
	-std=gnu++17
	-DUSE_BLE_OUTPUT=0
build_unflags = 
	-std=gnu++14
build_type = debug
